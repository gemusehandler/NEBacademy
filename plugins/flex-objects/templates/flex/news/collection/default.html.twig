{%- set object_context = object ?? {} -%}
{%- set object_layout = object_context.layout ?? ('list-' ~ layout) -%}

<div id="flex-objects">
  <div class="text-center">
    <input class="form-input search" type="text" placeholder="Search by headline, publisher, country, etc" />
    <button class="button button-primary sort asc" data-sort="name">
      Sort by Headline
    </button>
  </div>

  <ul class="list">
    {% for object in collection.filterBy({ published: true }) %}
      <li>
        {% render object layout: object_layout with object_context %}
      </li>
    {% endfor %}
  </ul>
</div>

<script>
    var options = {
        valueNames: [ 'name', 'publisher', 'place', 'date', 'entry-extra' ]
    };
    var flexList = new List('flex-objects', options);
</script>
